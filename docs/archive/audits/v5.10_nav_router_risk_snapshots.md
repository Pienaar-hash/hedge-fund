# v5.10 NAV / Router / Risk-State Snapshots

## Snapshot A — doctor_v5.10_final.txt (2025-11-16 14:53 UTC)

### NAV & Treasury Context
| Metric | Value | Source |
| --- | --- | --- |
| NAV (futures) | **$4,403.06** | `docs/doctor_v5.10_final.txt`
| Total equity | **$4,403.06** (no spot offsets) | `doctor_v5.10_final.txt`
| NAV freshness | **FRESH**, age ≈ **227.5 s** | doctor log (confirmed nav snapshot)
| Drawdown | **1.43 %** (≈$64) from $4,467 peak | doctor log
| Open positions | **0** (flattened) | doctor log
| Treasury reserves | BTC 0.035, XAUT 0.59, USDC 2,000 (off-exchange) | `config/reserves.json`
| Reported stables | USDT 2,407, USDC 3,500 (ledger snapshot) | `config/assets.json`
| FX conversion | USD→ZAR @ 17.08 ⇒ ~R75,204 | doctor log

### Router Telemetry
| Metric | Value | Notes |
| --- | --- | --- |
| Maker/taker samples | attempted=0, emitted=0, vetoed=0 | idle window prior to close-out
| Fill rate | **100 %** (last sample) | doctor log summary
| Slippage p50 / p95 | **1.35 bps** / **90.93 bps** | router stats in doctor log
| ACK latency p50 / p95 | 0 ms / 0 ms | indicates no outstanding live orders
| Router heartbeat | stale (executor heartbeat ~1 min, sync_state stale) | doctor log
| Policy engine | Enabled (see `execution/intel/router_policy.py` state) | config reference

### Risk-State Snapshot
- Risk engine online with dual-side hedge mode; doctor confirms `_is_dual_side=True`.
- NAV guardrails enforced via `config/risk_limits.json`: global `max_gross_exposure_pct=150`, `trade_equity_nav_pct=0.15`, `max_trade_nav_pct=0.20`, `daily_loss_limit_pct=5`.
- Drawdown telemetry from doctor shows current DD = 1.43 %, far from kill thresholds (`execution/risk_limits.py` kill switch uses `kill_switch_drawdown_pct` from strategy sizing config when present).
- Live positions counter = 0 ⇒ `_RISK_STATE.open_positions` synced via `_update_risk_state_counters` (`execution/executor_live.py:1108-1128`).
- Firestore publishing disabled (`doctor` log), so nav snapshots + router metrics remain local JSONL only; telemetry hooks `_maybe_publish_execution_health/intel/alerts` are currently stubs.

## Snapshot B — v5.10 Close-Out Checklist (Markdown)
The following captures the readiness state when preparing to exit v5.10 live trading (“close out”) based on the same telemetry plus config expectations.

### NAV Close-Out Gate
1. Verify executor NAV matches treasury: `$4.4k` futures wallet, no open positions.
2. Confirm NAV snapshot freshness (<5 min) and sources_ok = true (doctor log already shows 227.5 s, TRUE).
3. Reconcile reserves vs live wallet using `config/reserves.json` + `config/assets.json` to ensure off-exchange balances (0.035 BTC, 0.59 XAUT, 2k USDC) are documented before capital moves.

### Router Close-Out Gate
1. Inspect router slippage quantiles (p50 1.35 bps / p95 90.93 bps) to ensure no outstanding partially filled maker orders.
2. Ensure router metrics JSONL captured by executor (see `_append_order_metrics` in `execution/executor_live.py:80-107`); export the latest `logs/execution/order_metrics.jsonl` with timestamp around 14:53 UTC for auditing.
3. Record router policy quality in effect (from `execution/intel/router_policy.py`) even if idle; policy snapshot is included in each router_ctx payload during `_route_intent`.

### Risk-State Close-Out Gate
1. Snapshot `config/risk_limits.json` + `config/strategy_config.json` (already bundled under `gpt_schema/`) to preserve v5.10 caps before editing for v6.0.
2. Capture doctor output for drawdown + concurrency (`max_concurrent_positions=4` enforced via `_strategy_concurrency_budget`).
3. Document that Firestore + heartbeat were disabled/stale so telemetry gaps are known entering v6.0 (action item for telemetry batch).

> These Markdown sections replace the raw text dumps (e.g., `doctor_v5.10_final.txt`, `v5.10 close out.txt`) with structured tables ready to upload into GPT’s “hedge” project folder.
