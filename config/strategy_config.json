{
  "version": "v6.4",
  "use_futures": true,
  "poll_seconds": 300,
  "universe": ["BTCUSDT", "ETHUSDT", "SOLUSDT", "DOGEUSDT", "LINKUSDT", "LTCUSDT", "SUIUSDT", "WIFUSDT"],
  "dry_run": {
    "simulated_nav_usdt": 10000.0,
    "simulated_balances": {
      "USDT": 10000.0
    }
  },
  "nav": {
    "trading_source": "exchange",
    "reporting_source": "exchange",
    "include_spot_treasury": true,
    "manual_nav_usdt": null
  },
  "diagnostics": {
    "enabled": true,
    "veto_metrics": {
      "window_signals": 500,
      "window_seconds": 3600
    },
    "exit_pipeline": {
      "tp_sl_canary_enabled": true,
      "tp_sl_underwater_threshold_pct": -0.02
    },
    "liveness": {
      "enabled": true,
      "max_idle_signals_seconds": 900,
      "max_idle_orders_seconds": 1800,
      "max_idle_exits_seconds": 3600,
      "max_idle_router_events_seconds": 1800
    }
  },
  "hybrid_scoring": {
    "default": {
      "w_trend": 0.7,
      "w_carry": 0.3,
      "min_hybrid_score_long": 0.15,
      "min_hybrid_score_short": 0.15
    },
    "tiers": {
      "CORE": {
        "w_trend": 0.6,
        "w_carry": 0.4
      },
      "SATELLITE": {
        "w_trend": 0.7,
        "w_carry": 0.3
      },
      "TACTICAL": {
        "w_trend": 0.8,
        "w_carry": 0.2
      },
      "ALT-EXT": {
        "w_trend": 0.5,
        "w_carry": 0.5
      }
    }
  },
  "sizing": {
    "default_leverage": 3,
    "slippage_bps": 3,
    "taker_fee_bps": 5,
    "atr_interval": "1h",
    "atr_lookback": 14,
    "vol_target_bps": 25
  },
  "signals": {
    "timeframe": "15m",
    "momentum": {
        "ema_fast": 15,
        "ema_slow": 50,
        "rsi_len": 14,
        "rsi_buy": 55,
        "rsi_sell": 40
    },
    "zscore": {
      "lookback": 48,
      "entry": 1.0,
      "exit": 0.5
    },
    "enable_ai_screener": false,
    "use_shared_risk_gate": true
  },
  "ml": {
    "enabled": false,
    "timeframe": "1h",
    "lookback_bars": 1500,
    "horizon_bars": 4,
    "target_ret_bps": 20,
    "prob_threshold": 0.68,
    "symbols": ["BTCUSDT", "ETHUSDT", "SOLUSDT", "DOGEUSDT", "LINKUSDT", "LTCUSDT", "SUIUSDT", "WIFUSDT"],
    "features": {
      "ema_fast": 15,
      "ema_slow": 50,
      "rsi_len": 14,
      "zscore_lookback": 48,
      "ob_imbalance_topn": 20
    },
    "trainer": {
      "type": "logreg",
      "class_weight": "balanced",
      "test_size": 0.2,
      "shuffle": true,
      "random_state": 42
    },
    "registry_path": "models/registry.json"
  },
  "strategies": [
    {
      "id": "btc_m15",
      "label": "BTC 15m momentum",
      "enabled": true,
      "symbol": "BTCUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.015,
        "leverage": 4,
        "bucket": "CORE",
        "risk": {
          "fixed_sl_pct": 0.4,
          "fixed_tp_pct": 1.2,
          "atr_period": 14,
          "atr_mult": 1.0,
          "max_bars": 60,
          "trail": { "width_pct": 0.004 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [35, 70],
          "zmin": 0.6
        }
      }
    },
    {
      "id": "eth_m15",
      "label": "ETH 15m momentum",
      "enabled": true,
      "symbol": "ETHUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.015,
        "leverage": 3,
        "bucket": "CORE",
        "risk": {
          "fixed_sl_pct": 0.5,
          "fixed_tp_pct": 1.5,
          "atr_period": 7,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.005 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [20, 80],
          "zmin": 0.7
        }
      }
    },
    {
      "id": "sol_m15",
      "label": "SOL 15m momentum",
      "enabled": true,
      "symbol": "SOLUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.012,
        "leverage": 3,
        "bucket": "SATELLITE",
        "risk": {
          "fixed_sl_pct": 0.5,
          "fixed_tp_pct": 1.5,
          "atr_period": 21,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.005 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [25, 65],
          "zmin": 0.6
        }
      }
    },
    {
      "id": "doge_m15",
      "label": "DOGE 15m momentum",
      "enabled": true,
      "symbol": "DOGEUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.01,
        "leverage": 3,
        "bucket": "SATELLITE",
        "risk": {
          "fixed_sl_pct": 0.6,
          "fixed_tp_pct": 1.2,
          "atr_period": 21,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.006 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [30, 65],
          "zmin": 0.8
        }
      }
    },
    {
      "id": "link_m15",
      "label": "LINK 15m momentum",
      "enabled": true,
      "short_enabled": false,
      "symbol": "LINKUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.01,
        "leverage": 3,
        "bucket": "SATELLITE",
        "risk": {
          "fixed_sl_pct": 0.5,
          "fixed_tp_pct": 1.0,
          "atr_period": 14,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.005 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [20, 70],
          "zmin": 0.7
        }
      }
    },
    {
      "id": "ltc_m15",
      "label": "LTC 15m momentum",
      "enabled": true,
      "short_enabled": false,
      "symbol": "LTCUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.005,
        "leverage": 2,
        "bucket": "TACTICAL",
        "risk": {
          "fixed_sl_pct": 0.4,
          "fixed_tp_pct": 1.6,
          "atr_period": 7,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.005 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [20, 75],
          "zmin": 0.7
        }
      }
    },
    {
      "id": "sui_m15",
      "label": "SUI 15m momentum",
      "enabled": true,
      "short_enabled": false,
      "symbol": "SUIUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.005,
        "leverage": 2,
        "bucket": "TACTICAL",
        "risk": {
          "fixed_sl_pct": 0.5,
          "fixed_tp_pct": 1.5,
          "atr_period": 14,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.006 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [25, 70],
          "zmin": 0.8
        }
      }
    },
    {
      "id": "wif_m15",
      "label": "WIF 15m momentum",
      "enabled": true,
      "symbol": "WIFUSDT",
      "timeframe": "15m",
      "params": {
        "per_trade_nav_pct": 0.012,
        "leverage": 3,
        "bucket": "SATELLITE",
        "risk": {
          "fixed_sl_pct": 0.5,
          "fixed_tp_pct": 1.5,
          "atr_period": 21,
          "atr_mult": 1.2,
          "max_bars": 60,
          "trail": { "width_pct": 0.006 }
        },
        "entry": {
          "type": "rsi_band",
          "band": [30, 70],
          "zmin": 0.8
        }
      }
    }
  ],
  "vol_target": {
    "enabled": true,
    "timeframes": ["15m"],
    "symbols": ["BTCUSDT", "ETHUSDT", "SOLUSDT", "DOGEUSDT", "LINKUSDT", "LTCUSDT", "SUIUSDT", "WIFUSDT"],
    "base_per_trade_nav_pct": 0.015,
    "min_per_trade_nav_pct": 0.005,
    "max_per_trade_nav_pct": 0.03,
    "target_vol": 0.015,
    "min_vol": 0.003,
    "max_vol": 0.08,
    "min_vol_factor": 0.25,
    "max_vol_factor": 2.0,
    "atr_lookback": 14,
    "use_atr_percentiles": true,
    "require_trend_alignment": true,
    "max_dd_regime": 2,
    "max_risk_mode": "DEFENSIVE",
    "min_signal_score": 0.0,
    "sl_atr_mult": 2.0,
    "tp_atr_mult": 3.0,
    "min_rr": 1.2,
    "side_mode": "trend",
    "enable_tp_sl": true,
    "trend": {
      "htf_tf": "1h",
      "fast_ema": 21,
      "slow_ema": 50,
      "min_trend_strength": 0.1,
      "use_htf_rsi_filter": true,
      "rsi_overbought": 70,
      "rsi_oversold": 30
    },
    "carry": {
      "use_funding": true,
      "min_funding_annualized": 0.0,
      "max_funding_annualized": 0.5,
      "funding_weight": 0.3,
      "use_basis": false,
      "max_basis_pct": 0.1,
      "basis_weight": 0.2
    }
  },
  "vol_regimes": {
    "enabled": true,
    "defaults": {
      "short_window_bars": 168,
      "long_window_bars": 720,
      "short_halflife_bars": 84,
      "long_halflife_bars": 360,
      "ratio_thresholds": {
        "low": 0.6,
        "normal": 1.2,
        "high": 1.8
      }
    },
    "sizing_multipliers": {
      "CORE": {
        "low": 1.15,
        "normal": 1.0,
        "high": 0.75,
        "crisis": 0.5
      },
      "SATELLITE": {
        "low": 1.1,
        "normal": 1.0,
        "high": 0.7,
        "crisis": 0.4
      },
      "TACTICAL": {
        "low": 1.0,
        "normal": 0.9,
        "high": 0.6,
        "crisis": 0.3
      },
      "ALT-EXT": {
        "low": 0.9,
        "normal": 0.8,
        "high": 0.5,
        "crisis": 0.2
      }
    },
    "hybrid_weight_modifiers": {
      "default": {
        "low":    { "carry": 1.0,  "expectancy": 1.0,  "router": 1.0  },
        "normal": { "carry": 1.0,  "expectancy": 1.0,  "router": 1.0  },
        "high":   { "carry": 0.7,  "expectancy": 0.9,  "router": 1.0  },
        "crisis": { "carry": 0.4,  "expectancy": 0.8,  "router": 1.1  }
      }
    }
  },
  "risk_advanced": {
    "var": {
      "enabled": true,
      "confidence": 0.99,
      "lookback_bars": 500,
      "halflife_bars": 100,
      "max_portfolio_var_nav_pct": 0.12
    },
    "cvar": {
      "enabled": true,
      "confidence": 0.95,
      "lookback_bars": 400,
      "max_position_cvar_nav_pct": 0.04
    }
  },
  "alpha_decay": {
    "enabled": true,
    "half_life_minutes": 45,
    "min_decay_multiplier": 0.35
  },
  "router_quality": {
    "enabled": true,
    "base_score": 0.8,
    "min_score": 0.2,
    "max_score": 1.0,
    "stats_window": {
      "seconds": 900,
      "min_events": 5
    },
    "slippage_drift_bps_thresholds": {
      "green": 2.0,
      "yellow": 6.0
    },
    "latency_ms_thresholds": {
      "fast": 150.0,
      "normal": 400.0
    },
    "bucket_penalties": {
      "A_HIGH": 0.0,
      "B_MEDIUM": -0.05,
      "C_LOW": -0.15
    },
    "twap_skip_penalty": 0.10,
    "low_quality_threshold": 0.5,
    "high_quality_threshold": 0.9,
    "low_quality_hybrid_multiplier": 0.5,
    "high_quality_hybrid_multiplier": 1.05,
    "min_for_emission": 0.35
  },
  "rv_momentum": {
    "enabled": true,
    "lookback_bars": 48,
    "half_life_bars": 24,
    "normalize_mode": "zscore",
    "btc_vs_eth_weight": 0.35,
    "l1_vs_alt_weight": 0.35,
    "meme_vs_rest_weight": 0.20,
    "per_symbol_weight": 0.10,
    "max_abs_score": 1.0,
    "hybrid_weight": 0.10,
    "rv_min_for_long": -0.5,
    "rv_max_for_short": 0.5
  },
  "factor_diagnostics": {
    "enabled": true,
    "factors": [
      "trend",
      "carry",
      "rv_momentum",
      "router_quality",
      "expectancy",
      "vol_regime",
      "category_momentum"
    ],
    "normalization_mode": "zscore",
    "covariance_lookback_days": 30,
    "pnl_attribution_lookback_days": 14,
    "max_abs_zscore": 3.0,
    "orthogonalization": {
      "enabled": true,
      "method": "gram_schmidt"
    },
    "auto_weighting": {
      "enabled": true,
      "mode": "vol_inverse_ir",
      "min_weight": 0.05,
      "max_weight": 0.40,
      "normalize_to_one": true,
      "smoothing_alpha": 0.2,
      "adaptive": {
        "enabled": false,
        "ir_boost_threshold": 0.25,
        "ir_cut_threshold": 0.0,
        "pnl_min_for_boost": 0.0,
        "max_shift": 0.10
      }
    }
  },
  "conviction": {
    "enabled": true,
    "size_multipliers": {
      "very_low": 0.3,
      "low": 0.5,
      "medium": 1.0,
      "high": 1.6,
      "very_high": 2.2
    },
    "thresholds": {
      "very_low": 0.20,
      "low": 0.40,
      "medium": 0.60,
      "high": 0.80,
      "very_high": 0.92
    },
    "dd_overrides": {
      "DRAWDOWN": 0.5,
      "RECOVERY": 0.8
    },
    "risk_mode_overrides": {
      "DEFENSIVE": 0.5,
      "EXTREME": 0.0
    },
    "router_quality_thresholds": {
      "min_for_any_trade": 0.50,
      "min_for_full_size": 0.80
    },
    "category_weight": 0.0
  },
  "category_momentum": {
    "enabled": true,
    "lookback_bars": 48,
    "half_life_bars": 24,
    "ir_scale": 2.0,
    "max_abs_score": 1.0,
    "base_factor_weight": 0.08
  },
  "meta_scheduler": {
    "enabled": false,
    "learning_rate": 0.05,
    "min_samples": 50,
    "max_factor_shift": 0.10,
    "max_conviction_shift": 0.15,
    "max_category_shift": 0.15,
    "decay": 0.90,
    "ir_threshold": 0.3,
    "pnl_threshold": 0.0
  },
  "alpha_router": {
    "enabled": false,
    "allocation_floor": 0.20,
    "allocation_ceiling": 1.00,
    "health_thresholds": {
      "strong": 0.75,
      "weak": 0.45
    },
    "regime_penalties": {
      "LOW": 1.0,
      "NORMAL": 1.0,
      "HIGH": 0.80,
      "CRISIS": 0.50
    },
    "dd_penalties": {
      "NORMAL": 1.0,
      "RECOVERY": 0.85,
      "DRAWDOWN": 0.65
    },
    "router_quality_thresholds": {
      "good": 0.65,
      "moderate": 0.45
    },
    "meta_influence": 0.10,
    "smoothing_alpha": 0.25
  },
  "universe_optimizer": {
    "enabled": false,
    "min_universe_size": 4,
    "max_universe_size": 20,
    "base_edge_weight": 0.35,
    "category_weight": 0.20,
    "meta_weight": 0.15,
    "health_weight": 0.15,
    "allocation_weight": 0.15,
    "volatility_regime_shrink": 0.25,
    "drawdown_shrink": 0.35,
    "category_diversification_min": 2,
    "smoothing_alpha": 0.15,
    "scoring_floor": 0.25
  },
  "alpha_miner": {
    "_comment": "Autonomous Alpha Miner (Prospector) — v7.8_P4",
    "enabled": false,
    "min_liquidity_usd": 500000.0,
    "max_spread_pct": 0.30,
    "min_age_days": 30,
    "score_threshold": 0.50,
    "top_k": 20,
    "smoothing_alpha": 0.15,
    "lookback_bars": 100,
    "interval": "4h",
    "run_interval_cycles": 50,
    "weights": {
      "short_momo": 0.15,
      "long_momo": 0.20,
      "inv_vol": 0.15,
      "trend_consistency": 0.20,
      "router_score": 0.10,
      "liq_quality": 0.20
    },
    "exclude_patterns": ["BUSD", "TUSD", "USDC", "DAI", "USDP"]
  },
  "cross_pair_engine": {
    "_comment": "Cross-Pair Statistical Arbitrage Engine (Crossfire) — v7.8_P5",
    "enabled": false,
    "pairs": [
      ["BTCUSDT", "ETHUSDT"],
      ["SOLUSDT", "SUIUSDT"],
      ["ARBUSDT", "OPUSDT"]
    ],
    "lookback_bars": 240,
    "half_life_bars": 60,
    "min_corr": 0.75,
    "max_spread_z": 3.0,
    "entry_z": 2.0,
    "exit_z": 0.5,
    "min_liquidity_usd": 50000,
    "smoothing_alpha": 0.20,
    "run_interval_cycles": 10,
    "use_universe_bias": false,
    "universe_bias_threshold": 0.50,
    "universe_bias_max": 0.10
  },
  "sentinel_x": {
    "_comment": "Sentinel-X: Hybrid ML Market Regime Classifier — v7.8_P6",
    "enabled": false,
    "lookback_bars": 240,
    "feature_agg_bars": 48,
    "min_history_days": 30,
    "regimes": ["TREND_UP", "TREND_DOWN", "MEAN_REVERT", "BREAKOUT", "CHOPPY", "CRISIS"],
    "prob_thresholds": {
      "primary": 0.55,
      "secondary": 0.25
    },
    "crisis_hard_rules": {
      "dd_threshold": 0.12,
      "vol_spike_multiple": 3.0
    },
    "model": {
      "type": "gradient_boosting",
      "max_depth": 4,
      "n_estimators": 100
    },
    "smoothing": {
      "prob_alpha": 0.30,
      "label_stickiness": 3
    },
    "run_interval_cycles": 5,
    "conviction_weights": {
      "TREND_UP": 1.10,
      "TREND_DOWN": 0.90,
      "MEAN_REVERT": 0.95,
      "BREAKOUT": 1.05,
      "CHOPPY": 0.85,
      "CRISIS": 0.50
    },
    "factor_weights": {
      "TREND_UP": {"trend": 1.15, "mean_revert": 0.90, "momentum": 1.10, "value": 0.95},
      "TREND_DOWN": {"trend": 1.10, "mean_revert": 0.85, "momentum": 0.90, "value": 1.05},
      "MEAN_REVERT": {"trend": 0.90, "mean_revert": 1.15, "momentum": 0.95, "value": 1.05},
      "BREAKOUT": {"trend": 1.10, "mean_revert": 0.85, "momentum": 1.15, "value": 0.90},
      "CHOPPY": {"trend": 0.85, "mean_revert": 1.00, "momentum": 0.85, "value": 1.00},
      "CRISIS": {"trend": 0.70, "mean_revert": 0.80, "momentum": 0.70, "value": 1.10}
    },
    "allocation_factors": {
      "TREND_UP": 1.05,
      "TREND_DOWN": 0.90,
      "MEAN_REVERT": 0.95,
      "BREAKOUT": 1.00,
      "CHOPPY": 0.85,
      "CRISIS": 0.60
    },
    "universe_shrink_factors": {
      "TREND_UP": 0.0,
      "TREND_DOWN": 0.15,
      "MEAN_REVERT": 0.10,
      "BREAKOUT": 0.05,
      "CHOPPY": 0.25,
      "CRISIS": 0.40
    }
  },
  "alpha_decay": {
    "_comment": "Alpha Decay & Survival Curves (Thanatos) — v7.8_P7",
    "enabled": false,
    "lookback_days": 120,
    "min_samples": 30,
    "smoothing_alpha": 0.15,
    "symbol_half_life_floor": 5,
    "symbol_half_life_ceiling": 90,
    "category_half_life_floor": 10,
    "factor_decay_floor": 0.95,
    "decay_penalty_strength": 0.20,
    "sentinel_x_integration": true,
    "crisis_half_life_reduction": 0.30,
    "choppy_half_life_reduction": 0.15,
    "universe_optimizer_enabled": true,
    "alpha_router_enabled": true,
    "factor_diagnostics_enabled": true,
    "conviction_enabled": true,
    "high_deterioration_threshold": 0.60,
    "low_survival_threshold": 0.40,
    "run_interval_cycles": 10
  },
  "cerberus_router": {
    "_comment": "Multi-Strategy Portfolio Router (Cerberus) — v7.8_P8",
    "enabled": false,
    "strategy_heads": {
      "TREND": 1.0,
      "MEAN_REVERT": 1.0,
      "RELATIVE_VALUE": 1.0,
      "CATEGORY": 1.0,
      "VOL_HARVEST": 1.0,
      "EMERGENT_ALPHA": 1.0
    },
    "learning_rate": 0.05,
    "bounds": {
      "min": 0.25,
      "max": 2.0
    },
    "regime_weights": {
      "TREND_UP": {"TREND": 1.3, "MEAN_REVERT": 0.7, "RELATIVE_VALUE": 1.0, "CATEGORY": 1.2, "VOL_HARVEST": 1.0, "EMERGENT_ALPHA": 1.0},
      "TREND_DOWN": {"TREND": 1.2, "MEAN_REVERT": 0.8, "RELATIVE_VALUE": 1.1, "CATEGORY": 1.0, "VOL_HARVEST": 0.9, "EMERGENT_ALPHA": 0.8},
      "MEAN_REVERT": {"TREND": 0.7, "MEAN_REVERT": 1.3, "RELATIVE_VALUE": 1.1, "CATEGORY": 1.0, "VOL_HARVEST": 1.0, "EMERGENT_ALPHA": 0.9},
      "BREAKOUT": {"TREND": 1.4, "MEAN_REVERT": 0.8, "RELATIVE_VALUE": 1.0, "CATEGORY": 1.1, "VOL_HARVEST": 1.1, "EMERGENT_ALPHA": 1.1},
      "CHOPPY": {"TREND": 0.8, "MEAN_REVERT": 1.1, "RELATIVE_VALUE": 1.2, "CATEGORY": 0.9, "VOL_HARVEST": 0.8, "EMERGENT_ALPHA": 0.7},
      "CRISIS": {"TREND": 0.6, "MEAN_REVERT": 0.8, "RELATIVE_VALUE": 1.4, "CATEGORY": 1.0, "VOL_HARVEST": 0.5, "EMERGENT_ALPHA": 0.4}
    },
    "sentinel_x_integration": true,
    "decay_integration": true,
    "meta_scheduler_integration": true,
    "signal_weights": {
      "regime": 0.25,
      "decay": 0.15,
      "meta": 0.15,
      "edge": 0.20,
      "health": 0.15,
      "universe": 0.05,
      "rv": 0.05
    },
    "smoothing_alpha": 0.20,
    "run_interval_cycles": 5
  },
  "strategy_adaptation": {},
  "strategy_weighting": {}
}
