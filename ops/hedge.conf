; Hedge v6 Supervisor configuration

[program:hedge-executor]
command=/bin/bash -lc 'cd /root/hedge-fund && exec ./venv/bin/python -m execution.executor_live'
directory=/root/hedge-fund
autostart=true
autorestart=true
startsecs=5
stopsignal=TERM
stdout_logfile=/var/log/hedge-executor.out.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=5
stderr_logfile=/var/log/hedge-executor.err.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=5
user=root
environment=PYTHONUNBUFFERED="1",ENV="prod",ALLOW_PROD_WRITE="1",ALLOW_PROD_SYNC="1",PYTHONPATH=""

[program:hedge-dashboard]
command=/bin/bash -lc 'cd /root/hedge-fund && exec ./venv/bin/streamlit run dashboard/app.py --server.port=8501 --server.address=127.0.0.1 --server.headless=true'
directory=/root/hedge-fund
autostart=true
autorestart=true
stdout_logfile=/var/log/hedge-dashboard.out.log
stdout_logfile_maxbytes=25MB
stdout_logfile_backups=5
stderr_logfile=/var/log/hedge-dashboard.err.log
stderr_logfile_maxbytes=25MB
stderr_logfile_backups=5
user=root
environment=PYTHONUNBUFFERED="1",ENV="prod",ALLOW_PROD_WRITE="1",PYTHONPATH=""

[program:hedge-sync_state]
command=/bin/bash -lc 'cd /root/hedge-fund && exec ./venv/bin/python execution/sync_state.py'
directory=/root/hedge-fund
autostart=true
autorestart=true
stdout_logfile=/var/log/hedge-sync_state.out.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stderr_logfile=/var/log/hedge-sync_state.err.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=5
user=root
environment=PYTHONUNBUFFERED="1",ENV="prod",ALLOW_PROD_WRITE="1",ALLOW_PROD_SYNC="1",PYTHONPATH=""

[program:hedge-pipeline-shadow-heartbeat]
command=/bin/bash -lc 'cd /root/hedge-fund && exec ./venv/bin/python scripts/pipeline_shadow_heartbeat.py'
directory=/root/hedge-fund
autostart=true
autorestart=true
stdout_logfile=/var/log/hedge-pipeline-shadow-heartbeat.out.log
stdout_logfile_maxbytes=5MB
stdout_logfile_backups=3
stderr_logfile=/var/log/hedge-pipeline-shadow-heartbeat.err.log
stderr_logfile_maxbytes=5MB
stderr_logfile_backups=3
user=root
environment=PYTHONUNBUFFERED="1",ENV="prod",ALLOW_PROD_WRITE="1",PYTHONPATH=""

[program:hedge-pipeline-compare]
command=/bin/bash -lc 'cd /root/hedge-fund && exec ./venv/bin/python scripts/pipeline_compare_service.py'
directory=/root/hedge-fund
autostart=true
autorestart=true
stdout_logfile=/var/log/hedge-pipeline-compare.out.log
stdout_logfile_maxbytes=5MB
stdout_logfile_backups=3
stderr_logfile=/var/log/hedge-pipeline-compare.err.log
stderr_logfile_maxbytes=5MB
stderr_logfile_backups=3
user=root
environment=PYTHONUNBUFFERED="1",ENV="prod",ALLOW_PROD_WRITE="1",PYTHONPATH=""

[group:hedge]
programs=hedge-executor,hedge-dashboard,hedge-sync_state,hedge-pipeline-shadow-heartbeat,hedge-pipeline-compare
