; ===========================
;  GPT Hedge Supervisor Stack
; ===========================

[program:dashboard]
directory=/root/hedge-fund
command=/root/hedge-fund/venv/bin/python3 -m streamlit run dashboard/app.py --server.port=8501 --server.headless=true
environment=ENV="prod",PYTHONPATH="/root/hedge-fund",DRY_RUN="0",FIRESTORE_ENABLED="1",FIREBASE_CREDS_PATH="/root/hedge-fund/firebase.json",GOOGLE_APPLICATION_CREDENTIALS="/root/hedge-fund/firebase.json"
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/dashboard.log
stderr_logfile=/var/log/supervisor/dashboard.err
stopasgroup=true
killasgroup=true
user=root

[program:executor]
directory=/root/hedge-fund
command=/root/hedge-fund/venv/bin/python3 -m execution.executor_live
environment=ENV="prod",PYTHONPATH="/root/hedge-fund",DRY_RUN="0",FIRESTORE_ENABLED="1",FIREBASE_CREDS_PATH="/root/hedge-fund/firebase.json",GOOGLE_APPLICATION_CREDENTIALS="/root/hedge-fund/firebase.json"
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/executor.log
stderr_logfile=/var/log/supervisor/executor.err
stopasgroup=true
killasgroup=true
user=root

[program:sync_state]
directory=/root/hedge-fund
command=/root/hedge-fund/venv/bin/python3 -m execution.sync_state
environment=ENV="prod",PYTHONPATH="/root/hedge-fund",DRY_RUN="0",FIRESTORE_ENABLED="1",FIREBASE_CREDS_PATH="/root/hedge-fund/firebase.json",GOOGLE_APPLICATION_CREDENTIALS="/root/hedge-fund/firebase.json"
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/sync_state.log
stderr_logfile=/var/log/supervisor/sync_state.err
stopasgroup=true
killasgroup=true
user=root

[group:hedge]
programs=dashboard,executor,sync_state
priority=999
